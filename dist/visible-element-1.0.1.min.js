define("is-visible",["require","exports","module","jquery"],function(t,e,i){var n=t("jquery"),s=function(t,e){if(t.x+t.width>e.x&&e.x+e.width>t.x&&t.y+t.height>e.y&&e.y+e.height>t.y){var i={};i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y);var n=Math.min(t.x+t.width,e.x+e.width),s=Math.min(t.y+t.height,e.y+e.height);return i.width=n-i.x,i.height=s=i.y,i}return!1},r=function(t){var e=t.offset();return{x:e.left,y:e.top,width:t.width(),height:t.height()}},o=function(t,e){var i=n(t);if(t=i.get(0),9===i[0].nodeType)return!0;if(0==i.css("opacity")||"none"==i.css("display")||"hidden"==i.css("visibility"))return!1;var h=i.css("position");if("fixed"==h)return!!s(e?e:r(i),{x:0,y:n(window).scrollTop(),width:n(window).width(),height:n(window).height()});if("BODY"!=t.nodeName)switch(h){case"static":case"relative":var a=i.parent().css("overflow");if("hidden|scroll|auto".indexOf(a)>=0){var u=null;return(u=s(e?e:r(i),r(i.parent())))?o(i.parent(),u):!1}return o(i.parent(),r(i));case"absolute":var a=i.offsetParent().css("overflow");if("hidden|scroll|auto".indexOf(a)>=0){var u=null;return(u=s(e?e:r(i),r(i.offsetParent())))?o(i.offsetParent(),u):!1}return o(i.offsetParent(),r(i))}return!0};window.iv=i.exports=function(t){return o(n(t))}}),define("visible-element",["require","exports","module","tools","jquery","./is-visible"],function(t,e,i){var n=t("tools"),s=(t("jquery"),t("./is-visible")),r=[];setInterval(function(){for(var t=0;t<r.length;t++)r[t].check()},50);var o=function(t){this._initVisibleElement(t)};o.prototype={_initVisibleElement:function(t){n.EventEmitter.call(this),this.options=n.mix({element:null},t),r.push(this),this.showStatus=!1},check:function(){s(this.options.element)?this.showStatus===!1&&(this.emit("show"),this.showStatus=!0):this.showStatus=!1},stopTrack:function(){var t=n.indexOf(r,this);t>=0&&r.splice(t,1)}},n.extend(o,n.EventEmitter),o.isVisible=s,i.exports=o});